absoluteT=table(mydata$marst,
exclude = 'nothing')
library(rio)
location='https://github.com/chuhanl/Visual-Analytics/raw/main/'
file='ACS%202019%20weighted%20subsample.dta'
link=paste0(location,file)
mydata=import(link)
absoluteT=table(mydata$marst,
exclude = 'nothing')
absoluteT
prop.table(absoluteT)
View(mydata)
absoluteT=table(mydata$marst,
exclude = 'nothing')
absoluteT
absoluteT=table(mydata$marst,
exclude = 'nothing')
newNames=c('Married, spouse present'	,'Married, spouse absent',	'Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
tableFreq=as.data.frame(absoluteT)
(tableFreq=as.data.frame(absoluteT))
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("Marital Status","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
library(ggplot2)
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8))
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 0))
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, /nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, spouse present','Married, spouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1= plot1 + scale_x_discrete(limits=)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1= plot1 + scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
library(rio)
location='https://github.com/chuhanl/Visual-Analytics/raw/main/'
file='ACS%202019%20weighted%20subsample.dta'
link=paste0(location,file)
mydata=import(link)
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, spouse present','Married, spouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
library(ggplot2)
View(tableFreq)
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1= plot1 #+ scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base= ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1= plot1 + scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = Marital Status,
library(rio)
location='https://github.com/chuhanl/Visual-Analytics/raw/main/'
file='ACS%202019%20weighted%20subsample.dta'
link=paste0(location,file)
mydata=import(link)
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, spouse present','Married, spouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
library(ggplot2)
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = Marital Status,
newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 = plot1 + scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
#newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 = plot1 + scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
library(rio)
location='https://github.com/chuhanl/Visual-Analytics/raw/main/'
file='ACS%202019%20weighted%20subsample.dta'
link=paste0(location,file)
mydata=import(link)
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, spouse present','Married, spouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
library(ggplot2)
#newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
#plot1 = plot1 + scale_x_discrete(limits=newNames2)
#plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
View(plot1)
#newNames2=c('Married, \nspouse present','Married, \nspouse absent','Separated','Divorced','Widowed','Never married/single')
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Count))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
#plot1 = plot1 + scale_x_discrete(limits=newNames2)
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq=tableFreq[order(tableFreq$Percent),]
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq=tableFreq[order(tableFreq$Percent),]
tableFreq
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Percent))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
titleText='Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
LABELS=paste0(round(tableFreq$Percent,2), '%')
#add titles
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
plot2
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Percent))
plot1 = base + geom_bar(fill ="gray",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
titleText='Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
LABELS=paste0(round(tableFreq$Percent,2), '%')
#add titles
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
plot2
titleText='Figure 1: Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
LABELS=paste0(round(tableFreq$Percent,2), '%')
#add titles
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
plot2
average(tableFreq$Percent)
ave(tableFreq$Percent)
#add the reference lines
plot3 = plot2 + geom_hline(yintercept = 20,
linetype="dashed",
size=1.5,
alpha=0.5)
plot3
library(scales)
plot3 = plot2 + scale_y_continuous(labels=unit_format(suffix = '%'))
plot3
#adjust title position
plot5 = plot4 + theme(plot.title = element_text(hjust = 0.5))
#adjust title position
plot4 = plot3 + theme(plot.title = element_text(hjust = 0.5))
#annotate the bars
LABELS=paste0(round(tableFreq$Percent,2), '%')
plot5 = plot4 + geom_text(vjust=0,
size = 6,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0.2,
size = 2,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0.2,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0.8,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0,
size = 3,
aes(y = Percent,
label = LABELS))
plot5
plot5 = plot4 + geom_text(vjust=0,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,fontface = "bold",hjust = 1))
plot1 = base + geom_bar(fill ="purple",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="blue",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="light blue",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="light red",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="light purple",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="dark red",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="light orange",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
plot1 = base + geom_bar(fill ="orange",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Percent))
base= base + theme_classic()
plot1 = base + geom_bar(fill ="orange",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
plot1
titleText='Figure 1: Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
#add titles
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
#customize the vertical axes
library(scales)
plot3 = plot2 + scale_y_continuous(labels=unit_format(suffix = '%'))
#adjust title position
plot4 = plot3 + theme(plot.title = element_text(hjust = 0.5))
#annotate the bars
LABELS=paste0(round(tableFreq$Percent,2), '%')
plot5 = plot4 + geom_text(vjust=0,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
(marstOrd=tableFreq[order(tableFreq$Percent),'Marital Status'])
tableFreq=tableFreq[order(tableFreq$Percent),decreasing = TRUE]
tableFreq=tableFreq[order(tableFreq$Percent,decreasing = TRUE),]
tableFreq
(marstOrd=tableFreq[order(tableFreq$Percent),'Marital Status'])
(marstOrd=tableFreq[order(tableFreq$Percent,decreasing = TRUE),])
(marstOrd=tableFreq[order(tableFreq$Percent,decreasing = TRUE),'MaritalStatus'])
library(rio)
location='https://github.com/chuhanl/Visual-Analytics/raw/main/'
file='ACS%202019%20weighted%20subsample.dta'
link=paste0(location,file)
mydata=import(link)
absoluteT=table(mydata$marst,
exclude = 'nothing')
#rename the values
newNames=c('Married, spouse present','Married, spouse absent','Separated','Divorced','Widowed','Never married/single')
names(absoluteT)=newNames
absoluteT
prop.table(absoluteT)
propT=prop.table(absoluteT)*100
tableFreq=as.data.frame(absoluteT)
names(tableFreq)=c("MaritalStatus","Count")
tableFreq$Percent=as.vector(propT)
tableFreq
library(ggplot2)
marstOrd=tableFreq[order(tableFreq$Percent,decreasing = TRUE),'MaritalStatus']
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Percent))
base= base + scale_x_discrete(limits=localesOrd)
marstOrd=tableFreq[order(tableFreq$Percent,decreasing = TRUE),'MaritalStatus']
base = ggplot(data = tableFreq,
aes(x = MaritalStatus,
y = Percent))
base= base + scale_x_discrete(limits=marstOrd)
base= base + theme_classic()
plot1 = base + geom_bar(fill ="orange",
stat = 'identity')
plot1 = plot1 + theme(axis.text.x = element_text(angle = 30, size = 8,hjust = 1))
#add titles
titleText='Figure 1: Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
#customize the vertical axes
library(scales)
plot3 = plot2 + scale_y_continuous(labels=unit_format(suffix = '%'))
#adjust title position
plot4 = plot3 + theme(plot.title = element_text(hjust = 0.5))
#annotate the bars
LABELS=paste0(round(tableFreq$Percent,2), '%')
plot5 = plot4 + geom_text(vjust=0,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
#add titles
titleText='Figure 1: Marital Status in the U.S. in 2019'
sourceText='Source: 2019 American Community Survey (ACS)'
plot2 = plot1 + labs(title=titleText,
x =NULL,
y = NULL,
caption = sourceText)
#customize the vertical axes
library(scales)
plot3 = plot2 + scale_y_continuous(breaks=c(0,20,40),
labels=unit_format(suffix = '%'))
#adjust title position
plot4 = plot3 + theme(plot.title = element_text(hjust = 0.5))
#annotate the bars
LABELS=paste0(round(tableFreq$Percent,2), '%')
plot5 = plot4 + geom_text(vjust=0,
size = 4,
aes(y = Percent,
label = LABELS))
plot5
